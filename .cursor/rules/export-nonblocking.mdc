description: "Export operations must be server-side and non-blocking for good UX."
globs:
  - "src/**/*"
alwaysApply: true

hardConstraints:
  - "Heavy export logic MUST run server-side, not in client components."
  - "Export endpoints return { downloadUrl } for immediate results OR { jobId } for async processing."
  - "Long-running exports: use background jobs, store results in configured storage, return signed URLs."
  - "UI must show loading states (toast/spinner) and never block the main thread."
  - "Export APIs should follow RESTful patterns: POST /api/[resource]/export or POST /api/export/[type]."

verificationChecklist:
  - "Verify no heavy processing in client-side export code."
  - "Export UI handles async states gracefully with user feedback."
  - "Export endpoints return appropriate response format for result type."
